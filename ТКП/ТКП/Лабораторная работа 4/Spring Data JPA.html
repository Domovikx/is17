<!DOCTYPE html> <html lang="ru-RU"><head>
	    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="profile" href="http://gmpg.org/xfn/11">
    <link rel="pingback" href="https://alexkosarev.name/xmlrpc.php">
    
<title>Spring Data JPA: Волшебные методы &#8212; Блог Александра Косарева</title>
<link rel='dns-prefetch' href='//platform-api.sharethis.com' />
<link rel='dns-prefetch' href='//platform.twitter.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Блог Александра Косарева &raquo; Лента" href="https://alexkosarev.name/feed/" />
<link rel="alternate" type="application/rss+xml" title="Блог Александра Косарева &raquo; Лента комментариев" href="https://alexkosarev.name/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Блог Александра Косарева &raquo; Лента комментариев к &laquo;Spring Data JPA: Волшебные методы&raquo;" href="https://alexkosarev.name/2017/02/09/spring-data-jpa-magic-methods/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/alexkosarev.name\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.2"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='https://alexkosarev.name/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='https://alexkosarev.name/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://alexkosarev.name/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-css'  href='https://alexkosarev.name/wp-content/themes/education-hub/third-party/font-awesome/css/font-awesome.min.css?ver=4.7.0' type='text/css' media='all' />
<link rel='stylesheet' id='education-hub-google-fonts-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A600%2C400%2C400italic%2C300%2C100%2C700%7CMerriweather+Sans%3A400%2C700&#038;ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='education-hub-style-css'  href='https://alexkosarev.name/wp-content/themes/education-hub/style.css?ver=1.9.4' type='text/css' media='all' />
<script type='text/javascript' src='https://alexkosarev.name/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://alexkosarev.name/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/alexkosarev.name\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='https://alexkosarev.name/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#product=ga'></script>
<link rel='https://api.w.org/' href='https://alexkosarev.name/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://alexkosarev.name/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://alexkosarev.name/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Spring Framework и работа с базами данных: Spring Data JPA' href='https://alexkosarev.name/2017/02/08/spring-framework-database-spring-data-jpa/' />
<link rel='next' title='Разработка приложений со Spring. Базовое веб-приложение.' href='https://alexkosarev.name/2017/08/08/application-development-with-spring-part-1/' />
<meta name="generator" content="WordPress 4.8.2" />
<link rel="canonical" href="https://alexkosarev.name/2017/02/09/spring-data-jpa-magic-methods/" />
<link rel='shortlink' href='https://alexkosarev.name/?p=153' />
<link rel="alternate" type="application/json+oembed" href="https://alexkosarev.name/wp-json/oembed/1.0/embed?url=https%3A%2F%2Falexkosarev.name%2F2017%2F02%2F09%2Fspring-data-jpa-magic-methods%2F" />
<meta name="google-site-verification" content="PboSgDj6_9Imnn9FV__pxQiTnXZtr0wQPpuYAOnYPNw" /><style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
<meta name="twitter:widgets:link-color" content="#000000"><meta name="twitter:widgets:border-color" content="#000000"><meta name="twitter:partner" content="tfwp">
<meta name="twitter:card" content="summary"><meta name="twitter:title" content="Spring Data JPA: Волшебные методы"><meta name="twitter:site" content="@AKosarevOff"><meta name="twitter:description" content="В предыдущем посте я вкратце рассказал о Spring Data JPA и затронул тему &quot;волшебных&quot; методов, приведя простой пример их использования. Однако возможности волшебных методов значительны, благодаря чему ими можно заменить именованные запросы в большинстве случаев. Создание волшебного метода Название любого волшебного&hellip;"><meta name="twitter:creator" content="@AKosarevOff">
<meta data-pso-pv="1.2.1" data-pso-pt="singlePost" data-pso-th="4a758aa72e9ca29c1e5dac07c57efa89"></head>

<body class="post-template-default single single-post postid-153 single-format-standard custom-background site-layout-fluid global-layout-right-sidebar">

	    <div id="page" class="container hfeed site">
    <a class="skip-link screen-reader-text" href="#content">Перейти к содержимому</a>
    	<div id="tophead">
		<div class="container">
			<div id="quick-contact">
											</div>

			
			
		</div> <!-- .container -->
	</div><!--  #tophead -->

	<header id="masthead" class="site-header" role="banner"><div class="container">			    <div class="site-branding">

		    
										        <div id="site-identity">
					            	              <p class="site-title"><a href="https://alexkosarev.name/" rel="home">Блог Александра Косарева</a></p>
	            				
					            <p class="site-description">Записки о Java и не только</p>
					        </div><!-- #site-identity -->
			
	    </div><!-- .site-branding -->

	    	    		    <div class="search-section">
		    	<form role="search" method="get" class="search-form" action="https://alexkosarev.name/">
	      <label>
	        <span class="screen-reader-text">Искать:</span>
	        <input type="search" class="search-field" placeholder="Поиск…" value="" name="s" title="Искать:" />
	      </label>
	      <input type="submit" class="search-submit" value="Поиск" />
	    </form>		    </div>
	    
        </div><!-- .container --></header><!-- #masthead -->    <div id="main-nav" class="clear-fix">
        <div class="container">
        <nav id="site-navigation" class="main-navigation" role="navigation">
          <button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false"><i class="fa fa-bars"></i>
			Меню</button>
            <div class="wrap-menu-content">
				<div class="menu-menu-1-container"><ul id="primary-menu" class="menu"><li id="menu-item-12" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12"><a href="http://alexkosarev.ru/">Главная</a></li>
<li id="menu-item-13" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-13"><a href="https://alexkosarev.name/sample-page/">Немного обо мне</a></li>
</ul></div>            </div><!-- .menu-content -->
        </nav><!-- #site-navigation -->
       </div> <!-- .container -->
    </div> <!-- #main-nav -->
    
	<div id="content" class="site-content"><div class="container"><div class="inner-wrapper">    
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-153" class="post-153 post type-post status-publish format-standard hentry category-spring-data tag-java tag-java-ee tag-spring-data">
	<header class="entry-header">
		<h1 class="entry-title">Spring Data JPA: Волшебные методы</h1>
		<div class="entry-meta">
			<span class="posted-on"><a href="https://alexkosarev.name/2017/02/09/spring-data-jpa-magic-methods/" rel="bookmark"><time class="entry-date published" datetime="2017-02-09T15:19:48+00:00">09.02.2017</time><time class="updated" datetime="2017-06-26T08:26:15+00:00">26.06.2017</time></a></span><span class="byline"> <span class="author vcard"><a class="url fn n" href="https://alexkosarev.name/author/akosarev/">Alexander Kosarev</a></span></span>		</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

	<div class="entry-content">
    		<p><img class="alignleft size-medium" src="http://javainside.ru/wp-content/uploads/2016/01/spring-framework-project-logo.png" width="300" height="300" />В <a href="https://alexkosarev.name/2017/02/08/spring-framework-database-spring-data-jpa/" target="_blank" rel="noopener">предыдущем посте</a> я вкратце рассказал о Spring Data JPA и затронул тему &#171;волшебных&#187; методов, приведя простой пример их использования. Однако возможности волшебных методов значительны, благодаря чему ими можно заменить именованные запросы в большинстве случаев.</p>
<p><span id="more-153"></span></p>
<h3>Создание волшебного метода</h3>
<p>Название любого волшебного метода состоит из префикса, условий запроса и параметров сортировки. Обязательным является только префикс. У нас есть следущий метод:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59c66aa74a73a825532810" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">PersonRepository.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {

    List&lt;Person&gt; findTop10ByNameOrEmailLikeIgnoreCaseOrderByNameDesc(String name, String email);
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59c66aa74a73a825532810-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a73a825532810-2">2</div><div class="crayon-num" data-line="crayon-59c66aa74a73a825532810-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a73a825532810-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59c66aa74a73a825532810-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">interface</span><span class="crayon-h"> </span><span class="crayon-e">PersonRepository </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-v">CrudRepository</span><span class="crayon-o">&lt;</span><span class="crayon-v">Person</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a73a825532810-2">&nbsp;</div><div class="crayon-line" id="crayon-59c66aa74a73a825532810-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">List</span><span class="crayon-e ">&lt;Person&gt;</span><span class="crayon-h"> </span><span class="crayon-e">findTop10ByNameOrEmailLikeIgnoreCaseOrderByNameDesc</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a73a825532810-4"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Он будет преобразован в следующий запрос:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59c66aa74a740417074033" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from Person p where p.name = ?1 or upper(p.email) like upper(?2) order by name desc limit 10</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59c66aa74a740417074033-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59c66aa74a740417074033-1"><span class="crayon-st">from</span><span class="crayon-h"> </span>Person<span class="crayon-h"> </span>p<span class="crayon-h"> </span><span class="crayon-st">where</span><span class="crayon-h"> </span>p.name<span class="crayon-h"> </span>=<span class="crayon-h"> </span>?1<span class="crayon-h"> </span><span class="crayon-r">or</span><span class="crayon-h"> </span><span class="crayon-e ">upper</span>(p.email)<span class="crayon-h"> </span><span class="crayon-st">like</span><span class="crayon-h"> </span><span class="crayon-e ">upper</span>(?2)<span class="crayon-h"> </span><span class="crayon-st">order by</span><span class="crayon-h"> </span>name<span class="crayon-h"> </span><span class="crayon-st">desc</span><span class="crayon-h"> </span><span class="crayon-st">limit</span><span class="crayon-h"> </span>10</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Теперь разберём подробнее имя метода.</p>
<p>&nbsp;</p>
<h4>Префиксы</h4>
<p>В нашем пример префикс &#8212; <em><span style="color: #800000;">findTop10By</span></em>. Возможные префиксы методов: <span style="color: #800000;"><em>find&#8230;By</em></span>, <span style="color: #800000;"><em>get&#8230;By</em></span>, <span style="color: #800000;"><em>read&#8230;By</em></span>, <span style="color: #800000;"><em>query&#8230;By</em></span>, <span style="color: #800000;"><em>count&#8230;By</em></span>, <span style="color: #800000;"><em>remove&#8230;By</em></span> и <span style="color: #800000;"><em>delete&#8230;By</em></span>. Вместо <span style="color: #800000;">&#8230;</span> можно добавить ключевое слово <em><span style="color: #800000;">Distinct</span></em> для получение уникальных записей из БД, <em><span style="color: #800000;">First&#8230;</span></em><span style="color: #800000;"> </span>или<em><span style="color: #800000;">Top&#8230; </span></em>(как в нашем случае) для получения определённого количества записей или любой набор слов для упрощеняи понимания логики метода. Исключением является только слово <em><span style="color: #800000;">By</span></em>, так как оно определяет конец префикса.</p>
<p>Название метода может состоять из одного только префикса, если запрос не содержит условий.</p>
<p>&nbsp;</p>
<h4>Условия</h4>
<p>После первого <span style="color: #800000;"><em>By</em></span> начинается перечисление условий запроса, которых в нашем случае два: <em><span style="color: #800000;">Name</span></em><span style="color: #800000;"> </span>и<em><span style="color: #800000;"> EmailLikeIgnoreCase</span></em>. В любом условии фигурирует имя свойства класса-сущности, к которому применяется условие, а так же ключевое слово условия, если оно необходимо. Полный список ключевых слов можно найти в <a href="http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation" target="_blank" rel="noopener">официальной документации</a>.</p>
<p>Условия могут применяться к свойствам связанных классов сущностей. Допустим, у нас есть класс <span style="color: #800000;"><em>Country</em></span>:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59c66aa74a743381323971" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Country.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
@Entity
public class Country {
    @Id
    private String id;

    private String name;
    //лишний код опущен
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59c66aa74a743381323971-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a743381323971-2">2</div><div class="crayon-num" data-line="crayon-59c66aa74a743381323971-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a743381323971-4">4</div><div class="crayon-num" data-line="crayon-59c66aa74a743381323971-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a743381323971-6">6</div><div class="crayon-num" data-line="crayon-59c66aa74a743381323971-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a743381323971-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59c66aa74a743381323971-1"><span class="crayon-n">@Entity</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a743381323971-2"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Country</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-59c66aa74a743381323971-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-n">@Id</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a743381323971-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-59c66aa74a743381323971-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a743381323971-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-59c66aa74a743381323971-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//лишний код опущен</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a743381323971-8"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>И у класса <span style="color: #800000;"><em>Person</em></span><em> есть связь с данным классом:</em></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59c66aa74a745755263189" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Person.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
@Entity
public class Person {

    @ManyToOne
    private Country country;
    // лишний код опущен
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59c66aa74a745755263189-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a745755263189-2">2</div><div class="crayon-num" data-line="crayon-59c66aa74a745755263189-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a745755263189-4">4</div><div class="crayon-num" data-line="crayon-59c66aa74a745755263189-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a745755263189-6">6</div><div class="crayon-num" data-line="crayon-59c66aa74a745755263189-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59c66aa74a745755263189-1"><span class="crayon-n">@Entity</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a745755263189-2"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-59c66aa74a745755263189-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a745755263189-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-n">@ManyToOne</span></div><div class="crayon-line" id="crayon-59c66aa74a745755263189-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">Country </span><span class="crayon-v">country</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a745755263189-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// лишний код опущен</span></div><div class="crayon-line" id="crayon-59c66aa74a745755263189-7"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Тогда мы можем написать метод, который бы мог искать записи класса <em><span style="color: #800000;">Person</span> </em>по значению свойства <em><span style="color: #800000;">name</span></em> класса <em><span style="color: #800000;">Country</span>:</em></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59c66aa74a746803491144" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">PersonRepository.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {

    List&lt;Person&gt; findByCountry_nameLikeIgnoreCase(String country);
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59c66aa74a746803491144-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a746803491144-2">2</div><div class="crayon-num" data-line="crayon-59c66aa74a746803491144-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a746803491144-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59c66aa74a746803491144-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">interface</span><span class="crayon-h"> </span><span class="crayon-e">PersonRepository </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-v">CrudRepository</span><span class="crayon-o">&lt;</span><span class="crayon-v">Person</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a746803491144-2">&nbsp;</div><div class="crayon-line" id="crayon-59c66aa74a746803491144-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">List</span><span class="crayon-e ">&lt;Person&gt;</span><span class="crayon-h"> </span><span class="crayon-e">findByCountry_nameLikeIgnoreCase</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">country</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a746803491144-4"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>В этом примере мы обратились при помощи условия <span style="color: #800000;"><em><strong>Country_name</strong>LikeIgnoreCase</em></span> к свойству связанного класса-сущности.</p>
<p>&nbsp;</p>
<h4>Сортировка и ограничение получаемых данных</h4>
<p>Сортировку и ограничение количества записей можно реализовать, как уже было сказано, при помощи ключевых слов <span style="color: #800000;"><em>OrderBy&#8230;</em></span>,<span style="color: #800000;"><em> First&#8230;</em></span> и <span style="color: #800000;"><em>Top&#8230;</em></span>. Но это делает методы негибкими и неудобными. При таком подходе придётся для каждого случая писать свой метод, что сильно неудобно. Удобнее будет использование объектов типов <em><span style="color: #800000;">Pageable</span> </em>и <span style="color: #800000;"><em>Sort</em></span>.</p>
<p>Метод <span style="color: #800000;"><em>findTop10ByNameOrEmailLikeIgnoreCaseOrderByNameDesc</em></span> можно переписать следующим образом:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59c66aa74a748689892140" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">PersonRepository.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {

    List&lt;Person&gt; findByNameLikeIgnoreCase(String email, Pageable pageable);
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59c66aa74a748689892140-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a748689892140-2">2</div><div class="crayon-num" data-line="crayon-59c66aa74a748689892140-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a748689892140-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59c66aa74a748689892140-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">interface</span><span class="crayon-h"> </span><span class="crayon-e">PersonRepository </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-v">CrudRepository</span><span class="crayon-o">&lt;</span><span class="crayon-v">Person</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a748689892140-2">&nbsp;</div><div class="crayon-line" id="crayon-59c66aa74a748689892140-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">List</span><span class="crayon-e ">&lt;Person&gt;</span><span class="crayon-h"> </span><span class="crayon-e">findByNameLikeIgnoreCase</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Pageable </span><span class="crayon-v">pageable</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a748689892140-4"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p><span style="color: #800000;"><em>Pageable </em></span>реализует возможности сортировки, поэтому нет необходимости в использовании Sort в данном случае.</p>
<p>При использовании указанных типов мы получаем больше контроля над сортировкой и пейджинацией.</p>
<p>&nbsp;</p>
<h4>Дополнительные аннотации</h4>
<p>Синхронные Query-методы не нуждаются в дополнительных аннотациях. Аннотации нужны только методам, изменяющим записи в БД, а так же асинхронным методам.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59c66aa74a74a303337606" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">PersonRepository.java</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {

    @Async
    Future&lt;List&lt;Person&gt;&gt; findByNameLikeIgnoreCase(String email, Pageable pageable);
    
    @Modifying
    @Transactional
    Integer deleteByEmail(String email);
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59c66aa74a74a303337606-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a74a303337606-2">2</div><div class="crayon-num" data-line="crayon-59c66aa74a74a303337606-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a74a303337606-4">4</div><div class="crayon-num" data-line="crayon-59c66aa74a74a303337606-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a74a303337606-6">6</div><div class="crayon-num" data-line="crayon-59c66aa74a74a303337606-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59c66aa74a74a303337606-8">8</div><div class="crayon-num" data-line="crayon-59c66aa74a74a303337606-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59c66aa74a74a303337606-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">interface</span><span class="crayon-h"> </span><span class="crayon-e">PersonRepository </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-v">CrudRepository</span><span class="crayon-o">&lt;</span><span class="crayon-v">Person</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a74a303337606-2">&nbsp;</div><div class="crayon-line" id="crayon-59c66aa74a74a303337606-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-n">@Async</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a74a303337606-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Future</span><span class="crayon-o">&lt;</span><span class="crayon-v">List</span><span class="crayon-e ">&lt;Person&gt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">findByNameLikeIgnoreCase</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Pageable </span><span class="crayon-v">pageable</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-59c66aa74a74a303337606-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a74a303337606-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-n">@Modifying</span></div><div class="crayon-line" id="crayon-59c66aa74a74a303337606-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-n">@Transactional</span></div><div class="crayon-line crayon-striped-line" id="crayon-59c66aa74a74a303337606-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">Integer</span><span class="crayon-h"> </span><span class="crayon-e">deleteByEmail</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-59c66aa74a74a303337606-9"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<ul>
<li>аннотация <span style="color: #800000;"><em>@Async</em></span> указывает, что метод должен выполняться асинхронно.</li>
<li><span style="color: #800000;"><em>@Modifying</em></span> говорит о том, что указанный метод должен быть интерпретирован как модифицирующий запрос</li>
<li><em><span style="color: #800000;">@Transactional</span></em> добавляет поддержку транзакций для указанного метода</li>
</ul>
<p>&nbsp;</p>
<h4>Возвращаемые типы</h4>
<p>Вы, наверняка, обратили внимание на то, что в предыдущем примере асинхронный метод вернул отбъект типа <span style="color: #800000;"><em>Future</em></span>. Методы репозиториев Spring Data могут возвращать не только объекты классов-сущностей и их коллекции, но и объекты многих дргугих типов, которые могут быть применимы в том или ином случае. Полный список возможных возвращаемых типов вы можете найти в <a href="http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_supported_query_return_types" target="_blank" rel="noopener">официальной документации</a>.</p>
<p>&nbsp;</p>
			</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="cat-links"><a href="https://alexkosarev.name/category/javaee/spring/spring-data/" rel="category tag">Spring Data</a></span><span class="tags-links"><a href="https://alexkosarev.name/tag/java/" rel="tag">Java</a>, <a href="https://alexkosarev.name/tag/java-ee/" rel="tag">Java EE</a>, <a href="https://alexkosarev.name/tag/spring-data/" rel="tag">Spring Data</a></span>	</footer><!-- .entry-footer -->
</article><!-- #post-## -->


			
	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Навигация по записям</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://alexkosarev.name/2017/02/08/spring-framework-database-spring-data-jpa/" rel="prev">Spring Framework и работа с базами данных: Spring Data JPA</a></div><div class="nav-next"><a href="https://alexkosarev.name/2017/08/08/application-development-with-spring-part-1/" rel="next">Разработка приложений со Spring. Базовое веб-приложение.</a></div></div>
	</nav>
			
<div id="disqus_thread">
    </div>


		
		</main><!-- #main -->
	</div><!-- #primary -->

<div id="sidebar-primary" class="widget-area" role="complementary">
	    <aside id="pages-2" class="widget widget_pages"><h2 class="widget-title">Страницы</h2>		<ul>
			<li class="page_item page-item-2"><a href="https://alexkosarev.name/sample-page/">Немного обо мне</a></li>
		</ul>
		</aside><aside id="categories-2" class="widget widget_categories"><h2 class="widget-title">Рубрики</h2>		<ul>
	<li class="cat-item cat-item-28"><a href="https://alexkosarev.name/category/javaee/" title="Записи, посвящённые технологам, связанным с Enterprise Java">Java EE</a>
</li>
	<li class="cat-item cat-item-29"><a href="https://alexkosarev.name/category/javaee/spring/" title="Статьи, посвящённые проектам, входящим в экосистему Spring.IO.">Spring</a>
</li>
	<li class="cat-item cat-item-23"><a href="https://alexkosarev.name/category/javaee/spring/spring-boot/" >Spring Boot</a>
</li>
	<li class="cat-item cat-item-27"><a href="https://alexkosarev.name/category/javaee/spring/spring-data/" >Spring Data</a>
</li>
	<li class="cat-item cat-item-16"><a href="https://alexkosarev.name/category/javaee/spring/spring-framework/" >Spring Framework</a>
</li>
	<li class="cat-item cat-item-4"><a href="https://alexkosarev.name/category/javaee/spring/spring-security/" >Spring Security</a>
</li>
	<li class="cat-item cat-item-30"><a href="https://alexkosarev.name/category/tdd-test-driven-development/" >TDD (Test Driven Development)</a>
</li>
	<li class="cat-item cat-item-21"><a href="https://alexkosarev.name/category/javaee/vaadin/" >Vaadin</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://alexkosarev.name/category/%d0%91%d0%b5%d0%b7-%d1%80%d1%83%d0%b1%d1%80%d0%b8%d0%ba%d0%b8/" >Без рубрики</a>
</li>
	<li class="cat-item cat-item-37"><a href="https://alexkosarev.name/category/%d0%92%d0%b5%d0%b1-%d1%80%d0%b0%d0%b7%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%ba%d0%b0/" >Веб-разработка</a>
</li>
		</ul>
</aside><aside id="text-4" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Баннер в блоге -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4139171446709796"
     data-ad-slot="5410033667"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</aside><aside id="twitter-follow-3" class="widget widget_twitter-follow"><div class="twitter-follow"><a href="https://twitter.com/intent/follow?screen_name=AKosarevOff" class="twitter-follow-button" data-show-count="false" data-size="large">Начать читать @AKosarevOff</a></div></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">Свежие записи</h2>		<ul>
					<li>
				<a href="https://alexkosarev.name/2017/08/08/thymeleaf-template-engine/">Движок шаблонов Thymeleaf</a>
						</li>
					<li>
				<a href="https://alexkosarev.name/2017/08/08/application-development-with-spring-part-1/">Разработка приложений со Spring. Базовое веб-приложение.</a>
						</li>
					<li>
				<a href="https://alexkosarev.name/2017/02/09/spring-data-jpa-magic-methods/">Spring Data JPA: Волшебные методы</a>
						</li>
					<li>
				<a href="https://alexkosarev.name/2017/02/08/spring-framework-database-spring-data-jpa/">Spring Framework и работа с базами данных: Spring Data JPA</a>
						</li>
					<li>
				<a href="https://alexkosarev.name/2016/12/29/about-pathvariable/">Коротко о PathVariable</a>
						</li>
				</ul>
		</aside>		<aside id="meta-2" class="widget widget_meta"><h2 class="widget-title">Мета</h2>			<ul>
						<li><a href="https://alexkosarev.name/wp-login.php">Войти</a></li>
			<li><a href="https://alexkosarev.name/feed/"><abbr title="Really Simple Syndication">RSS</abbr> записей</a></li>
			<li><a href="https://alexkosarev.name/comments/feed/"><abbr title="Really Simple Syndication">RSS</abbr> комментариев</a></li>
			<li><a href="https://ru.wordpress.org/" title="Сайт работает на WordPress &#8212; современной персональной платформе для публикаций.">WordPress.org</a></li>			</ul>
			</aside><aside id="text-6" class="widget widget_text">			<div class="textwidget"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Лицензия Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />Это произведение доступно по <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">лицензии Creative Commons «Attribution-ShareAlike» («Атрибуция — На тех же условиях») 4.0 Всемирная</a>.</div>
		</aside>	</div><!-- #sidebar-primary -->
</div><!-- .inner-wrapper --></div><!-- .container --></div><!-- #content -->
	<div  id="footer-widgets" ><div class="container"><div class="inner-wrapper"><div class="footer-active-1 footer-widget-area"><aside id="text-10" class="widget widget_text">			<div class="textwidget"><p><iframe src="https://money.yandex.ru/quickpay/shop-widget?writer=seller&#038;targets=%D0%9D%D0%B0%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D1%82%D0%B8%D0%B5%20%D0%B1%D0%BB%D0%BE%D0%B3%D0%B0&#038;targets-hint=&#038;default-sum=&#038;button-text=14&#038;payment-type-choice=on&#038;mobile-payment-type-choice=on&#038;comment=on&#038;hint=&#038;successURL=&#038;quickpay=shop&#038;account=41001118313582" width="450" height="265" frameborder="0" allowtransparency="true" scrolling="no"></iframe></p>
</div>
		</aside></div><!-- .footer-widget-area --></div><!-- .inner-wrapper --></div><!-- .container --></div><footer id="colophon" class="site-footer" role="contentinfo"><div class="container">    
	    			<div id="footer-navigation" class="menu-social-container"><ul id="menu-social" class="menu"><li id="menu-item-122" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-122"><a href="https://ru.linkedin.com/in/ask45ru">LinkedIn</a></li>
<li id="menu-item-123" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-123"><a href="https://twitter.com/AKosarevOff">Twitter</a></li>
<li id="menu-item-124" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-124"><a href="https://plus.google.com/+%D0%90%D0%BB%D0%B5%D0%BA%D1%81%D0%B0%D0%BD%D0%B4%D1%80%D0%9A%D0%BE%D1%81%D0%B0%D1%80%D0%B5%D0%B2%D0%9A%D1%83%D1%80%D0%B3%D0%B0%D0%BD">G+</a></li>
</ul></div>	    	    	      <div class="copyright">
	         Это произведение доступно по лицензии Creative Commons «Attribution-ShareAlike» («Атрибуция — На тех же условиях») 4.0 Всемирная.	      </div><!-- .copyright -->
	    	    <div class="site-info">
	      <a href="https://ru.wordpress.org/">Работает на WordPress</a>
	      <span class="sep"> | </span>
			Education Hub автор: <a href="http://wenthemes.com/" rel="designer" target="_blank">WEN Themes</a>	    </div><!-- .site-info -->
	    	</div><!-- .container --></footer><!-- #colophon -->
</div><!-- #page --><a href="#page" class="scrollup" id="btn-scrollup"><i class="fa fa-chevron-up"></i></a>
<script>
    jQuery(document).ready(function () {
		jQuery.post('https://alexkosarev.name?ga_action=googleanalytics_get_script', {action: 'googleanalytics_get_script'}, function(response) {
			var F = new Function ( response );
			return( F() );
		});
    });
</script><script type='text/javascript' src='https://alexkosarev.name/wp-content/themes/education-hub/js/skip-link-focus-fix.min.js?ver=20130115'></script>
<script type='text/javascript' src='https://alexkosarev.name/wp-content/themes/education-hub/third-party/cycle2/js/jquery.cycle2.min.js?ver=2.1.6'></script>
<script type='text/javascript' src='https://alexkosarev.name/wp-content/themes/education-hub/js/custom.min.js?ver=1.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var EducationHubScreenReaderText = {"expand":"<span class=\"screen-reader-text\">\u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0435\u0435 \u043c\u0435\u043d\u044e<\/span>","collapse":"<span class=\"screen-reader-text\">\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0435\u0435 \u043c\u0435\u043d\u044e<\/span>"};
/* ]]> */
</script>
<script type='text/javascript' src='https://alexkosarev.name/wp-content/themes/education-hub/js/navigation.min.js?ver=20120206'></script>
<script type='text/javascript' src='https://alexkosarev.name/wp-includes/js/comment-reply.min.js?ver=4.8.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
window.twttr=(function(w){t=w.twttr||{};t._e=[];t.ready=function(f){t._e.push(f);};return t;}(window));
/* ]]> */
</script>
<script type="text/javascript" id="twitter-wjs" async defer src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<script type='text/javascript' src='https://alexkosarev.name/wp-includes/js/wp-embed.min.js?ver=4.8.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"platform":"wordpress@4.8.2","language":""},"disqusIdentifier":"153 https:\/\/alexkosarev.name\/?p=153","disqusShortname":"pvtjoke","disqusTitle":"Spring Data JPA: \u0412\u043e\u043b\u0448\u0435\u0431\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b","disqusUrl":"https:\/\/alexkosarev.name\/2017\/02\/09\/spring-data-jpa-magic-methods\/","options":{"manualSync":false},"postId":"153"};
/* ]]> */
</script>
<script type='text/javascript' src='https://alexkosarev.name/wp-content/plugins/disqus-comment-system/media/js/disqus.js?ver=4.8.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"pvtjoke"};
/* ]]> */
</script>
<script type='text/javascript' src='https://alexkosarev.name/wp-content/plugins/disqus-comment-system/media/js/count.js?ver=4.8.2'></script>
</body>
</html>
